<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>野菜・業務選択とスケジュール</title>
  <link rel="stylesheet" href="style.css">

</head>
<body>


<!-- schedule.html -->
<div class="profile_wrapper">
  <div class="profile_content">
    <div class="backbutton-container">
      <a href="occup.html" class="back-index_link" onclick="goBack()"><h2>戻る</h2></a>
    </div>
    <h2 class="title">お手伝いが必要な日は、<br>いつですか。</h2>
    <p>必要な日を押してください。</p>
    <!-- カレンダー表示 -->
    <div class="calendar" id="calendar">
      <table>
        <thead>
          <tr>
            <th>日</th>
            <th>月</th>
            <th>火</th>
            <th>水</th>
            <th>木</th>
            <th>金</th>
            <th>土</th>
          </tr>
        </thead>
        <tbody id="calendarBody">
        </tbody>
      </table>
    </div>
    <div class="button-container">
    <button id="Button" onclick="register()">登録</button>
    </div>
  </div>
</div>



<script>
  
  // 登録ボタンがクリックされたときの処理
  function register() {
    // ここに登録処理を追加
　　var infoToSend = "登録された情報"; // fan.schedule.htmlに送る情報をここで用意
      // fan.schedule.htmlに情報を送信
  　window.location.href = 'fan.schedule.html?info=' + encodeURIComponent(infoToSend);
    // 遷移先のURL
    var nextPage = 'confirm.html';

    // 遷移
    window.location.href = nextPage;
  }

  // 以下、既存のコードが続く...
  
  document.addEventListener('DOMContentLoaded', function () {
    generateCalendar('calendarBody');
  });

  function goBack() {
    window.history.back();
  }

  function showPageC(tag) {
    var pageC = document.getElementById('pageC');
    var selectedPhotoTag = document.getElementById('selectedPhotoTag');
    selectedPhotoTag.textContent = "選択した情報: " + tag;
    pageC.style.display = 'block';
    document.getElementById('nextButton').style.display = 'block';
  }

  function showNextPage(nextPage) {
    window.location.href = nextPage;
  }

  function toggleDot(cell) {
    const dot = cell.querySelector('.dot');
    dot.style.display = (dot.style.display === 'block') ? 'none' : 'block';
  }

  function generateCalendar(targetId) {
    const calendarBody = document.getElementById(targetId);
    const currentDate = new Date();
    const currentMonth = currentDate.getMonth();
    const daysInMonth = new Date(currentDate.getFullYear(), currentMonth + 1, 0).getDate();
    const firstDay = new Date(currentDate.getFullYear(), currentMonth, 1).getDay();

    let dayCount = 1;

    for (let i = 0; i < 6; i++) {
      const row = document.createElement('tr');

      for (let j = 0; j < 7; j++) {
        const cell = document.createElement('td');
        if ((i === 0 && j < firstDay) || dayCount > daysInMonth) {
          // Empty cells before the first day and after the last day
          cell.textContent = '';
        } else {
          cell.textContent = dayCount;

          // Add the 'available' class to indicate an available day
          cell.classList.add('available');

          // Add a click event listener to each available day
          cell.addEventListener('click', function () {
            toggleDot(cell);
          });

          dayCount++;
        }

        const dot = document.createElement('div');
        dot.classList.add('dot');
        cell.appendChild(dot);

        row.appendChild(cell);
      }
      calendarBody.appendChild(row);
    }
  }
</script>
</body>
</html>


